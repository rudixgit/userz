name: Tron ðŸ‡§ðŸ‡¬
on:
  schedule:
    - cron: '*/5 6-23 * * *'
      timezone: Europe/Sofia
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
     - uses: actions/setup-node@v3
       with:
         node-version: 19
     - name: Checkout
       uses: actions/checkout@v3
     - name: ðŸ˜³ Build
       run: |
          output=$(curl -s https://db.kloun.lol/db/_design/company/_view/cronews | wc -c -w)
          if [ $output -gt 50 ]
          then
            echo "Output length is greater than 50 characters"
            npm install
            cd ./.github/crons/trans
            node ./cron.mjs
          else
            echo "Output length is less than or equal to 50 characters"
            exit 1
          fi
     